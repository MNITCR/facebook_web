<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>
<body>
  <!-- Update Password -->
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#UpdatePasswordModal" data-bs-whatever="@mdo">Open modal for @mdo</button>
  <div class="modal fade" id="UpdatePasswordModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">Create New Password</h1>
          <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
        </div>
        <div class="modal-body">
          <form method="POST">
            <div class="mb-3">
              <label for="message-text" class="col-form-label">New Password :</label>
              <div class="input-group">
                <input type="password" class="form-control" id="newPassword" name="newPassword" placeholder="New Password"/>
                <button class="btn btn-outline-secondary" type="button" id="togglePasswordRegister1" style="border-radius: 0px 5px 5px 0px">
                  <i class="fa fa-eye-slash" aria-hidden="true"></i>
                </button>
              </div>
              <!-- check Character -->
              <div id="CheckSpecialCharacter1" class="text-danger"></div>
            </div>
            <div class="mb-3">
              <label for="message-text" class="col-form-label">Confirm Password :</label>
              <div class="input-group">
                <input type="password" class="form-control" id="ConfirmNewPassword" name="ConfirmNewPassword" placeholder="Confirm Password"/>
                <button class="btn btn-outline-secondary" type="button" id="togglePasswordRegister2" style="border-radius: 0px 5px 5px 0px">
                  <i class="fa fa-eye-slash" aria-hidden="true"></i>
                </button>
              </div>
              <!-- check Character -->
              <div id="CheckSpecialCharacter2" class="text-danger"></div>
            </div>
            <input type="text" id="EmailOrPhonenumberUpdatePassword" name="EmailOrPhonenumberUpdatePassword" />
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary fw-bold" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary fw-bold" id="UpdatePasswordSubmit" name="UpdatePasswordSubmit">Save Change</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>



  <!-- <script>
    //======================ContinueEnterSecurityCode======================

    // Create new password
    var newPasswordInput = $('#newPassword');
    var specialCharacterDiv1 = $('#CheckSpecialCharacter1');

    newPasswordInput.on('input', function() {
      validateNewPassword();
    });

    // Function to validate the "Password" input
    function validateNewPassword() {
      var password = newPasswordInput.val();

      // Check if the input is empty
      if (password.trim() === '') {
        newPasswordInput.removeClass('is-valid is-invalid');
        specialCharacterDiv1.text('');
        return;
      }

      var specialCharacterRegex = /[!@#$%^&*()_+|'`:<>\?/\\]/;

      // Count the number of special characters
      var specialCharacterCount = 0;

      for (var i = 0; i < password.length; i++) {
        if (specialCharacterRegex.test(password[i])) {
          specialCharacterCount++;
        }
      }

      console.log('Special Character Count:', specialCharacterCount); // Debugging line

      if (password.length > 6 && specialCharacterCount > 2) {
        newPasswordInput.addClass('is-valid');
        newPasswordInput.removeClass('is-invalid');
        specialCharacterDiv1.text('High Password');
        specialCharacterDiv1.removeClass('text-danger text-primary');
        specialCharacterDiv1.addClass('text-success');
      } else if (password.length > 6 && specialCharacterCount === 2) {
        newPasswordInput.addClass('is-valid');
        newPasswordInput.removeClass('is-invalid');
        specialCharacterDiv1.text('Medium Password');
        specialCharacterDiv1.removeClass('text-success text-danger');
        specialCharacterDiv1.addClass('text-primary');
      } else {
        newPasswordInput.removeClass('is-valid');
        newPasswordInput.addClass('is-invalid');
        specialCharacterDiv1.text('Low Password');
        specialCharacterDiv1.removeClass('text-success');
        specialCharacterDiv1.addClass('text-danger');
      }
    }
    // validate input
    $('#togglePasswordRegister1').click(function () {
      const InputNewPassword1 = $('#newPassword');
      const eyeIconRegister1 = $('#togglePasswordRegister1').find('i');

      if (InputNewPassword1.prop('type') === 'password') {
        InputNewPassword1.prop('type', 'text');
        eyeIconRegister1.removeClass('fa-eye-slash').addClass('fa-eye');
      } else {
        InputNewPassword1.prop('type', 'password');
        eyeIconRegister1.removeClass('fa-eye').addClass('fa-eye-slash');
      }
    });


    // confirm password
    var ConfirmNewPassword = $('#ConfirmNewPassword');
    var specialCharacterDiv2 = $('#CheckSpecialCharacter2');

    ConfirmNewPassword.on('input', function() {
      validateConfirmPassword();
    });

    // Function to validate the "Password" input
    function validateConfirmPassword() {
      var password = ConfirmNewPassword.val();

      // Check if the input is empty
      if (password.trim() === '') {
        ConfirmNewPassword.removeClass('is-valid is-invalid');
        specialCharacterDiv2.text('');
        return;
      }

      var specialCharacterRegex = /[!@#$%^&*()_+|'`:<>\?/\\]/;

      // Count the number of special characters
      var specialCharacterCount = 0;

      for (var i = 0; i < password.length; i++) {
        if (specialCharacterRegex.test(password[i])) {
          specialCharacterCount++;
        }
      }

      console.log('Special Character Count:', specialCharacterCount); // Debugging line

      if (password.length > 6 && specialCharacterCount > 2) {
        ConfirmNewPassword.addClass('is-valid');
        ConfirmNewPassword.removeClass('is-invalid');
        specialCharacterDiv2.text('High Password');
        specialCharacterDiv2.removeClass('text-danger text-primary');
        specialCharacterDiv2.addClass('text-success');
      } else if (password.length > 6 && specialCharacterCount === 2) {
        ConfirmNewPassword.addClass('is-valid');
        ConfirmNewPassword.removeClass('is-invalid');
        specialCharacterDiv2.text('Medium Password');
        specialCharacterDiv2.removeClass('text-success text-danger');
        specialCharacterDiv2.addClass('text-primary');
      } else {
        ConfirmNewPassword.removeClass('is-valid');
        ConfirmNewPassword.addClass('is-invalid');
        specialCharacterDiv2.text('Low Password');
        specialCharacterDiv2.removeClass('text-success');
        specialCharacterDiv2.addClass('text-danger');
      }
    }

    // validate input
    $('#togglePasswordRegister2').click(function () {
      const InputNewPassword2 = $('#ConfirmNewPassword');
      const eyeIconRegister2 = $('#togglePasswordRegister2 i');

      if (InputNewPassword2.prop('type') === 'password') {
        InputNewPassword2.prop('type', 'text');
        eyeIconRegister2.removeClass('fa-eye-slash').addClass('fa-eye');
      } else {
        InputNewPassword2.prop('type', 'password');
        eyeIconRegister2.removeClass('fa-eye').addClass('fa-eye-slash');
      }
    });


    // UpdatePasswordSubmit
    $('#UpdatePasswordSubmit').click(function (e) {
      var newPassword1 = $('#newPassword');
      var ConfirmNewPassword1 = $('#ConfirmNewPassword');

      // validateVerifyOTP(verify_OTPCheck);
      validateNewPassword(newPassword1);
      validateConfirmPassword(ConfirmNewPassword1);

      if (newPassword1.val() === '' || ConfirmNewPassword1.val() === '') {
        alert('Please enter a new password');
        e.preventDefault();
      }else if (newPassword1.val() !== ConfirmNewPassword1.val()){
        alert('Password not matches');
        e.preventDefault();
      }
      else if (
        newPassword1.hasClass('is-invalid') ||
        ConfirmNewPassword1.hasClass('is-invalid')
      ) {
        // Prevent form submission if validation fails
        alert('Validation failed. Please check your inputs.');
        e.preventDefault();
      } else {
        alert('Validation successful. Form will be submitted.');
      }
    });

  </script> -->

  <script>
    //======================ContinueEnterSecurityCode======================
    $(document).ready(function() {
  // Create new password
  var newPasswordInput = $('#newPassword');
  var specialCharacterDiv1 = $('#CheckSpecialCharacter1');

  newPasswordInput.on('input', function() {
    validatePassword(newPasswordInput, specialCharacterDiv1);
  });

  // Toggle password visibility
  $('#togglePasswordRegister1').click(function() {
    togglePasswordVisibility(newPasswordInput);
  });

  // Confirm password
  var ConfirmNewPassword = $('#ConfirmNewPassword');
  var specialCharacterDiv2 = $('#CheckSpecialCharacter2');

  ConfirmNewPassword.on('input', function() {
    validatePassword(ConfirmNewPassword, specialCharacterDiv2);
  });

  // Toggle confirm password visibility
  $('#togglePasswordRegister2').click(function() {
    togglePasswordVisibility(ConfirmNewPassword);
  });

  // Update Password Submit
  $('#UpdatePasswordSubmit').click(function(e) {
    var newPassword1 = newPasswordInput.val();
    var confirmNewPassword1 = ConfirmNewPassword.val();

    // Validate passwords
    validatePassword(newPasswordInput, specialCharacterDiv1);
    validatePassword(ConfirmNewPassword, specialCharacterDiv2);

    // Check if passwords match
    if (newPassword1 !== confirmNewPassword1) {
      alert('Passwords do not match');
      e.preventDefault();
    }else if(newPassword1 == "" || confirmNewPassword1 == ""){
      alert('Passwords input a password');
      e.preventDefault();
    }
    // Check for invalid inputs
    else if (newPasswordInput.hasClass('is-invalid') || ConfirmNewPassword.hasClass('is-invalid')) {
      alert('Validation failed. Please check your inputs.');
      e.preventDefault();
    } else {
      alert('Validation successful. Form will be submitted.');
    }
  });

  // Function to validate the "Password" input
  function validatePassword(input, specialCharacterDiv) {
    var password = input.val();

    // Check if the input is empty
    if (password.trim() === '') {
      input.removeClass('is-valid is-invalid');
      specialCharacterDiv.text('');
      return;
    }

    var specialCharacterRegex = /[!@#$%^&*()_+|'`:<>\?/\\]/;
    var specialCharacterCount = 0;

    for (var i = 0; i < password.length; i++) {
      if (specialCharacterRegex.test(password[i])) {
        specialCharacterCount++;
      }
    }

    if (password.length > 6 && specialCharacterCount > 2) {
      input.addClass('is-valid');
      input.removeClass('is-invalid');
      specialCharacterDiv.text('High Password');
      specialCharacterDiv.removeClass('text-danger text-primary');
      specialCharacterDiv.addClass('text-success');
    } else if (password.length > 6 && specialCharacterCount === 2) {
      input.addClass('is-valid');
      input.removeClass('is-invalid');
      specialCharacterDiv.text('Medium Password');
      specialCharacterDiv.removeClass('text-success text-danger');
      specialCharacterDiv.addClass('text-primary');
    } else {
      input.removeClass('is-valid');
      input.addClass('is-invalid');
      specialCharacterDiv.text('Low Password');
      specialCharacterDiv.removeClass('text-success');
      specialCharacterDiv.addClass('text-danger');
    }
  }

  // Function to toggle password visibility
  function togglePasswordVisibility(input) {
    const eyeIcon = input.next('button').find('i');

    if (input.prop('type') === 'password') {
      input.prop('type', 'text');
      eyeIcon.removeClass('fa-eye-slash').addClass('fa-eye');
    } else {
      input.prop('type', 'password');
      eyeIcon.removeClass('fa-eye').addClass('fa-eye-slash');
    }
  }
});

  </script>

</body>
</html>
